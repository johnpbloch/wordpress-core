!function(i,o){var e={options:{defaultColor:!1,change:!1,clear:!1,hide:!0,palettes:!0,width:255,mode:"hsv",type:"full",slider:"horizontal"},_createHueOnly:function(){var e,t=this,o=t.element;o.hide(),e="hsl("+o.val()+", 100, 50)",o.iris({mode:"hsl",type:"hue",hide:!1,color:e,change:function(e,o){i.isFunction(t.options.change)&&t.options.change.call(this,e,o)},width:t.options.width,slider:t.options.slider})},_create:function(){if(i.support.iris){var t=this,e=t.element;if(i.extend(t.options,e.data()),"hue"===t.options.type)return t._createHueOnly();t.close=i.proxy(t.close,t),t.initialValue=e.val(),e.addClass("wp-color-picker").hide().wrap('<div class="wp-picker-container" />'),t.wrap=e.parent(),t.toggler=i('<a tabindex="0" class="wp-color-result" />').insertBefore(e).css({backgroundColor:t.initialValue}).attr("title",wpColorPickerL10n.pick).attr("data-current",wpColorPickerL10n.current),t.pickerContainer=i('<div class="wp-picker-holder" />').insertAfter(e),t.button=i('<input type="button" class="button button-small hidden" />'),t.options.defaultColor?t.button.addClass("wp-picker-default").val(wpColorPickerL10n.defaultString):t.button.addClass("wp-picker-clear").val(wpColorPickerL10n.clear),e.wrap('<span class="wp-picker-input-wrap" />').after(t.button),e.iris({target:t.pickerContainer,hide:t.options.hide,width:t.options.width,mode:t.options.mode,palettes:t.options.palettes,change:function(e,o){t.toggler.css({backgroundColor:o.color.toString()}),i.isFunction(t.options.change)&&t.options.change.call(this,e,o)}}),e.val(t.initialValue),t._addListeners(),t.options.hide||t.toggler.click()}},_addListeners:function(){var t=this;t.wrap.on("click.wpcolorpicker",function(e){e.stopPropagation()}),t.toggler.click(function(){t.toggler.hasClass("wp-picker-open")?t.close():t.open()}),t.element.change(function(e){var o=i(this).val();""!==o&&"#"!==o||(t.toggler.css("backgroundColor",""),i.isFunction(t.options.clear)&&t.options.clear.call(this,e))}),t.toggler.on("keyup",function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),t.toggler.trigger("click").next().focus())}),t.button.click(function(e){var o=i(this);o.hasClass("wp-picker-clear")?(t.element.val(""),t.toggler.css("backgroundColor",""),i.isFunction(t.options.clear)&&t.options.clear.call(this,e)):o.hasClass("wp-picker-default")&&t.element.val(t.options.defaultColor).change()})},open:function(){this.element.show().iris("toggle").focus(),this.button.removeClass("hidden"),this.wrap.addClass("wp-picker-active"),this.toggler.addClass("wp-picker-open"),i("body").trigger("click.wpcolorpicker").on("click.wpcolorpicker",this.close)},close:function(){this.element.hide().iris("toggle"),this.button.addClass("hidden"),this.wrap.removeClass("wp-picker-active"),this.toggler.removeClass("wp-picker-open"),i("body").off("click.wpcolorpicker",this.close)},color:function(e){if(e===o)return this.element.iris("option","color");this.element.iris("option","color",e)},defaultColor:function(e){if(e===o)return this.options.defaultColor;this.options.defaultColor=e}};i.widget("wp.wpColorPicker",e)}(jQuery);