window.edButtons=[],window.edAddTag=function(){},window.edCheckOpenTags=function(){},window.edCloseAllTags=function(){},window.edInsertImage=function(){},window.edInsertLink=function(){},window.edInsertTag=function(){},window.edLink=function(){},window.edQuickLink=function(){},window.edRemoveTag=function(){},window.edShowButton=function(){},window.edShowLinks=function(){},window.edSpell=function(){},window.edToolbar=function(){},window.quicktags=function(t){return new QTags(t)},window.edInsertContent=function(t,e){return QTags.insertContent(e)},window.edButton=function(t,e,i,s,r){return QTags.addButton(t,void 0,void 0,void 0,void 0,"",-1)}(function(){function t(t){return t=t||"",t=t.replace(/&([^#])(?![a-z1-4]{1,8};)/gi,"&#038;$1"),t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var e=function(t){var i,s,r,n;"undefined"!=typeof jQuery?jQuery(document).ready(t):(i=e,i.funcs=[],i.ready=function(){if(!i.isReady)for(i.isReady=!0,s=0;s<i.funcs.length;s++)i.funcs[s]()},i.isReady?t():i.funcs.push(t),i.eventAttached||(document.addEventListener?(r=function(){document.removeEventListener("DOMContentLoaded",r,!1),i.ready()},document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",i.ready,!1)):document.attachEvent&&(r=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",r),i.ready())},document.attachEvent("onreadystatechange",r),window.attachEvent("onload",i.ready),(n=function(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(n,50)}i.ready()})()),i.eventAttached=!0))},i=function(){var t,e=new Date;return t=function(t){var e=t.toString();return e.length<2&&(e="0"+e),e},e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"+00:00"}(),s=window.QTags=function(t){if("string"==typeof t)t={id:t};else if("object"!=typeof t)return!1;var i,r,n,a,o,h=this,d=t.id,c=document.getElementById(d),l="qt_"+d;if(!d||!c)return!1;h.name=l,h.id=d,h.canvas=c,h.settings=t,"content"!==d||"string"!=typeof adminpage||"post-new-php"!==adminpage&&"post-php"!==adminpage?n=l+"_toolbar":(window.edCanvas=c,n="ed_toolbar"),i=document.getElementById(n),i||(i=document.createElement("div"),i.id=n,i.className="quicktags-toolbar"),c.parentNode.insertBefore(i,c),h.toolbar=i,r=function(t){t=t||window.event;var e,i=t.target||t.srcElement,s=i.clientWidth||i.offsetWidth;s&&/ ed_button /.test(" "+i.className+" ")&&(h.canvas=c=document.getElementById(d),e=i.id.replace(l+"_",""),h.theButtons[e]&&h.theButtons[e].callback.call(h.theButtons[e],i,c,h))},o=function(){window.wpActiveEditor=d},a=document.getElementById("wp-"+d+"-wrap"),i.addEventListener?(i.addEventListener("click",r,!1),a&&a.addEventListener("click",o,!1)):i.attachEvent&&(i.attachEvent("onclick",r),a&&a.attachEvent("onclick",o)),h.getButton=function(t){return h.theButtons[t]},h.getButtonElement=function(t){return document.getElementById(l+"_"+t)},h.init=function(){e(function(){s._buttonsInit(d)})},h.remove=function(){delete s.instances[d],i&&i.parentNode&&i.parentNode.removeChild(i)},s.instances[d]=h,h.init()};s.instances={},s.getInstance=function(t){return s.instances[t]},s._buttonsInit=function(t){function e(t){var e,r,n,a,o,h,d,c,l=",strong,em,link,block,del,ins,img,ul,ol,li,code,more,close,";o=i.instances[t],o.canvas,e=o.name,r=o.settings,a="",n={},c="",r.buttons&&(c=","+r.buttons+",");for(d in edButtons)edButtons[d]&&(h=edButtons[d].id,c&&-1!==l.indexOf(","+h+",")&&-1===c.indexOf(","+h+",")||edButtons[d].instance&&edButtons[d].instance!==t||(n[h]=edButtons[d],edButtons[d].html&&(a+=edButtons[d].html(e+"_"))));c&&-1!==c.indexOf(",dfw,")&&(n.dfw=new s.DFWButton,a+=n.dfw.html(e+"_")),"rtl"===document.getElementsByTagName("html")[0].dir&&(n.textdirection=new s.TextDirectionButton,a+=n.textdirection.html(e+"_")),o.toolbar.innerHTML=a,o.theButtons=n,"undefined"!=typeof jQuery&&jQuery(document).triggerHandler("quicktags-init",[o])}var i=this;if(t)e(t);else for(t in i.instances)e(t);i.buttonsInitDone=!0},s.addButton=function(t,e,i,r,n,a,o,h,d){var c;if(t&&e){if(o=o||0,r=r||"",d=d||{},"function"==typeof i)c=new s.Button(t,e,n,a,h,d),c.callback=i;else{if("string"!=typeof i)return;c=new s.TagButton(t,e,i,r,n,a,h,d)}if(-1===o)return c;if(o>0){for(;"undefined"!=typeof edButtons[o];)o++;edButtons[o]=c}else edButtons[edButtons.length]=c;this.buttonsInitDone&&this._buttonsInit()}},s.insertContent=function(t){var e,i,s,r,n,a,o=document.getElementById(wpActiveEditor);return!!o&&(document.selection?(o.focus(),e=document.selection.createRange(),e.text=t,o.focus()):o.selectionStart||0===o.selectionStart?(n=o.value,i=o.selectionStart,s=o.selectionEnd,r=o.scrollTop,o.value=n.substring(0,i)+t+n.substring(s,n.length),o.selectionStart=i+t.length,o.selectionEnd=i+t.length,o.scrollTop=r,o.focus()):(o.value+=t,o.focus()),document.createEvent?(a=document.createEvent("HTMLEvents"),a.initEvent("change",!1,!0),o.dispatchEvent(a)):o.fireEvent&&o.fireEvent("onchange"),!0)},s.Button=function(t,e,i,s,r,n){this.id=t,this.display=e,this.access="",this.title=s||"",this.instance=r||"",this.attr=n||{}},s.Button.prototype.html=function(e){var i,s,r,n=this.title?' title="'+t(this.title)+'"':"",a=this.attr&&this.attr.ariaLabel?' aria-label="'+t(this.attr.ariaLabel)+'"':"",o=this.display?' value="'+t(this.display)+'"':"",h=this.id?' id="'+t(e+this.id)+'"':"",d=(r=window.wp)&&r.editor&&r.editor.dfw;return"fullscreen"===this.id?'<button type="button"'+h+' class="ed_button qt-dfw qt-fullscreen"'+n+a+"></button>":"dfw"===this.id?(i=d&&d.isActive()?"":' disabled="disabled"',s=d&&d.isOn()?" active":"",'<button type="button"'+h+' class="ed_button qt-dfw'+s+'"'+n+a+i+"></button>"):'<input type="button"'+h+' class="ed_button button button-small"'+n+a+o+" />"},s.Button.prototype.callback=function(){},s.TagButton=function(t,e,i,r,n,a,o,h){var d=this;s.Button.call(d,t,e,n,a,o,h),d.tagStart=i,d.tagEnd=r},s.TagButton.prototype=new s.Button,s.TagButton.prototype.openTag=function(t,e){e.openTags||(e.openTags=[]),this.tagEnd&&(e.openTags.push(this.id),t.value="/"+t.value,this.attr.ariaLabelClose&&t.setAttribute("aria-label",this.attr.ariaLabelClose))},s.TagButton.prototype.closeTag=function(t,e){var i=this.isOpen(e);!1!==i&&e.openTags.splice(i,1),t.value=this.display,this.attr.ariaLabel&&t.setAttribute("aria-label",this.attr.ariaLabel)},s.TagButton.prototype.isOpen=function(t){var e=this,i=0,s=!1;if(t.openTags)for(;!1===s&&i<t.openTags.length;)s=t.openTags[i]===e.id&&i,i++;else s=!1;return s},s.TagButton.prototype.callback=function(t,e,i){var s,r,n,a,o,h,d,c,l,u=this,p=e.value,m=p?u.tagEnd:"";document.selection?(e.focus(),c=document.selection.createRange(),c.text.length>0?u.tagEnd?c.text=u.tagStart+c.text+m:c.text=c.text+u.tagStart:u.tagEnd?!1===u.isOpen(i)?(c.text=u.tagStart,u.openTag(t,i)):(c.text=m,u.closeTag(t,i)):c.text=u.tagStart,e.focus()):e.selectionStart||0===e.selectionStart?(s=e.selectionStart,r=e.selectionEnd,s<r&&"\n"===p.charAt(r-1)&&(r-=1),n=r,a=e.scrollTop,o=p.substring(0,s),h=p.substring(r,p.length),d=p.substring(s,r),s!==r?u.tagEnd?(e.value=o+u.tagStart+d+m+h,n+=u.tagStart.length+m.length):(e.value=o+d+u.tagStart+h,n+=u.tagStart.length):u.tagEnd?!1===u.isOpen(i)?(e.value=o+u.tagStart+h,u.openTag(t,i),n=s+u.tagStart.length):(e.value=o+m+h,n=s+m.length,u.closeTag(t,i)):(e.value=o+u.tagStart+h,n=s+u.tagStart.length),e.selectionStart=n,e.selectionEnd=n,e.scrollTop=a,e.focus()):(m?!1!==u.isOpen(i)?(e.value+=u.tagStart,u.openTag(t,i)):(e.value+=m,u.closeTag(t,i)):e.value+=u.tagStart,e.focus()),document.createEvent?(l=document.createEvent("HTMLEvents"),l.initEvent("change",!1,!0),e.dispatchEvent(l)):e.fireEvent&&e.fireEvent("onchange")},s.SpellButton=function(){},s.CloseButton=function(){s.Button.call(this,"close",quicktagsL10n.closeTags,"",quicktagsL10n.closeAllOpenTags)},s.CloseButton.prototype=new s.Button,s._close=function(t,e,i){var s,r,n=i.openTags;if(n)for(;n.length>0;)s=i.getButton(n[n.length-1]),r=document.getElementById(i.name+"_"+s.id),t?s.callback.call(s,r,e,i):s.closeTag(r,i)},s.CloseButton.prototype.callback=s._close,s.closeAllTags=function(t){var e=this.getInstance(t);e&&s._close("",e.canvas,e)},s.LinkButton=function(){var t={ariaLabel:quicktagsL10n.link};s.TagButton.call(this,"link","link","","</a>","","","",t)},s.LinkButton.prototype=new s.TagButton,s.LinkButton.prototype.callback=function(t,e,i,r){var n,a=this;if("undefined"!=typeof wpLink)return void wpLink.open(i.id);r||(r="http://"),!1===a.isOpen(i)?(n=prompt(quicktagsL10n.enterURL,r))&&(a.tagStart='<a href="'+n+'">',s.TagButton.prototype.callback.call(a,t,e,i)):s.TagButton.prototype.callback.call(a,t,e,i)},s.ImgButton=function(){var t={ariaLabel:quicktagsL10n.image};s.TagButton.call(this,"img","img","","","","","",t)},s.ImgButton.prototype=new s.TagButton,s.ImgButton.prototype.callback=function(t,e,i,r){r||(r="http://");var n,a=prompt(quicktagsL10n.enterImageURL,r);a&&(n=prompt(quicktagsL10n.enterImageDescription,""),this.tagStart='<img src="'+a+'" alt="'+n+'" />',s.TagButton.prototype.callback.call(this,t,e,i))},s.DFWButton=function(){s.Button.call(this,"dfw","","f",quicktagsL10n.dfw)},s.DFWButton.prototype=new s.Button,s.DFWButton.prototype.callback=function(){var t;(t=window.wp)&&t.editor&&t.editor.dfw&&window.wp.editor.dfw.toggle()},s.TextDirectionButton=function(){s.Button.call(this,"textdirection",quicktagsL10n.textdirection,"",quicktagsL10n.toggleTextdirection)},s.TextDirectionButton.prototype=new s.Button,s.TextDirectionButton.prototype.callback=function(t,e){var i="rtl"===document.getElementsByTagName("html")[0].dir,s=e.style.direction;s||(s=i?"rtl":"ltr"),e.style.direction="rtl"===s?"ltr":"rtl",e.focus()},edButtons[10]=new s.TagButton("strong","b","<strong>","</strong>","","","",{ariaLabel:quicktagsL10n.strong,ariaLabelClose:quicktagsL10n.strongClose}),edButtons[20]=new s.TagButton("em","i","<em>","</em>","","","",{ariaLabel:quicktagsL10n.em,ariaLabelClose:quicktagsL10n.emClose}),edButtons[30]=new s.LinkButton,edButtons[40]=new s.TagButton("block","b-quote","\n\n<blockquote>","</blockquote>\n\n","","","",{ariaLabel:quicktagsL10n.blockquote,ariaLabelClose:quicktagsL10n.blockquoteClose}),edButtons[50]=new s.TagButton("del","del",'<del datetime="'+i+'">',"</del>","","","",{ariaLabel:quicktagsL10n.del,ariaLabelClose:quicktagsL10n.delClose}),edButtons[60]=new s.TagButton("ins","ins",'<ins datetime="'+i+'">',"</ins>","","","",{ariaLabel:quicktagsL10n.ins,ariaLabelClose:quicktagsL10n.insClose}),edButtons[70]=new s.ImgButton,edButtons[80]=new s.TagButton("ul","ul","<ul>\n","</ul>\n\n","","","",{ariaLabel:quicktagsL10n.ul,ariaLabelClose:quicktagsL10n.ulClose}),edButtons[90]=new s.TagButton("ol","ol","<ol>\n","</ol>\n\n","","","",{ariaLabel:quicktagsL10n.ol,ariaLabelClose:quicktagsL10n.olClose}),edButtons[100]=new s.TagButton("li","li","\t<li>","</li>\n","","","",{ariaLabel:quicktagsL10n.li,ariaLabelClose:quicktagsL10n.liClose}),edButtons[110]=new s.TagButton("code","code","<code>","</code>","","","",{ariaLabel:quicktagsL10n.code,ariaLabelClose:quicktagsL10n.codeClose}),edButtons[120]=new s.TagButton("more","more","\x3c!--more--\x3e\n\n","","","","",{ariaLabel:quicktagsL10n.more}),edButtons[140]=new s.CloseButton})();